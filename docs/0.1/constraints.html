

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Constraints &mdash; PHPUnit Extensions  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Developer Guide" href="devel_guide/index.html" />
    <link rel="prev" title="1. Assertions" href="assertions.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PHPUnit Extensions
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="assertions.html">1. Assertions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Constraints</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#classpropertiesequalto">classPropertiesEqualTo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#classpropertiesidenticalto">classPropertiesIdenticalTo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extendsclass">extendsClass</a></li>
<li class="toctree-l2"><a class="reference internal" href="#haspregcaptures">hasPregCaptures</a></li>
<li class="toctree-l2"><a class="reference internal" href="#implementsinterface">implementsInterface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#objectpropertiesequalto">objectPropertiesEqualTo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#objectpropertiesidenticalto">objectPropertiesIdenticalTo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usestrait">usesTrait</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="devel_guide/index.html">3. Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PHPUnit Extensions</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">2. </span>Constraints</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/constraints.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="constraints">
<span id="id1"></span><h1><span class="section-number">2. </span>Constraints<a class="headerlink" href="#constraints" title="Permalink to this headline">¶</a></h1>
<p>This section lists the various constraint methods provided by sub-packages of
php-tailors/phpunit-extensions. The methods may be added to your test class by
including appropriate trait as shown in prerequisite tables below.</p>
<div class="section" id="classpropertiesequalto">
<span id="constraints-classpropertiesequalto"></span><h2>classPropertiesEqualTo<a class="headerlink" href="#classpropertiesequalto" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id2" style="width: 100%">
<caption><span class="caption-text">Prerequisites for classPropertiesEqualTo()</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Package</p></td>
<td><p>php-tailors/phpunit-properties</p></td>
</tr>
<tr class="row-even"><td><p>Trait</p></td>
<td><p><code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/ClassPropertiesEqualToTrait.html" title="PHPTailors\PHPUnit\ClassPropertiesEqualToTrait"><span class="pre">ClassPropertiesEqualToTrait</span></a></code></p></td>
</tr>
</tbody>
</table>
<p>Synopsis:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">classPropertiesEqualTo</span><span class="p">(</span><span class="k">array</span> <span class="nv">$expected</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates <code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/Constraint/ClassPropertiesEqualTo.html" title="PHPTailors\PHPUnit\Constraint\ClassPropertiesEqualTo"><span class="pre">ClassPropertiesEqualTo</span></a></code> constraint.</p>
<p>The constraint accepts classes having selected properties equal to
<code class="docutils literal notranslate"><span class="pre">$expected</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="constraints-classpropertiesequalto-example">
<div class="code-block-caption"><span class="caption-text">Usage of classPropertiesEqualTo()</span><a class="headerlink" href="#constraints-classpropertiesequalto-example" title="Permalink to this code">¶</a></div>
<div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">classPropertiesEqualToTest</span> <span class="k">extends</span> <span class="nx">\PHPUnit\Framework\TestCase</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">\PHPTailors\PHPUnit\ClassPropertiesEqualToTrait</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">static</span> <span class="nv">$attribute</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">getValue</span><span class="p">()</span><span class="o">:</span> <span class="nx">int</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="mi">321</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testSuccess</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// assert that:</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">classPropertiesEqualTo</span><span class="p">([</span>
            <span class="s1">&#39;attribute&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="c1">// - self::$attribute is 123, equals &#39;123&#39; (ok)</span>
            <span class="s1">&#39;getValue()&#39;</span> <span class="o">=&gt;</span> <span class="mi">321</span><span class="p">,</span>    <span class="c1">// - self::getValue() is 321 (ok)</span>
        <span class="p">]));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testFailure</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// assert that:</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">classPropertiesEqualTo</span><span class="p">([</span>
            <span class="s1">&#39;attribute&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;123&#39;</span><span class="p">,</span>   <span class="c1">// - self::$attribute is 123, equals &#39;123&#39; (ok)</span>
            <span class="s1">&#39;getValue()&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>     <span class="c1">// - self::getValue() is 321, not equals null (fail)</span>
        <span class="p">]));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span>PHPUnit 9.3.11 by Sebastian Bergmann and contributors.

.F                                                                  2 / 2 (100%)

Time: 00:00.009, Memory: 6.00 MB

There was 1 failure:

1) classPropertiesEqualToTest::testFailure
Failed asserting that classPropertiesEqualToTest is a class with properties equal to specified.
--- Expected
+++ Actual
@@ @@
-Properties &lt;Expect&gt; (
-    &#39;attribute&#39; =&gt; &#39;123&#39;
-    &#39;getValue()&#39; =&gt; null
+Properties &lt;Actual&gt; (
+    &#39;attribute&#39; =&gt; 123
+    &#39;getValue()&#39; =&gt; 321
 )

classPropertiesEqualToTest.php:27

FAILURES!
Tests: 2, Assertions: 4, Failures: 1.
</pre></div>
</td></tr></table></div>
<p>The constraint may be used recursively, i.e. it may be used to require given
property to be a class with prescribed properties.</p>
</div>
<div class="section" id="classpropertiesidenticalto">
<span id="constraints-classpropertiesidenticalto"></span><h2>classPropertiesIdenticalTo<a class="headerlink" href="#classpropertiesidenticalto" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id3" style="width: 100%">
<caption><span class="caption-text">Prerequisites for classPropertiesIdenticalTo()</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Package</p></td>
<td><p>php-tailors/phpunit-properties</p></td>
</tr>
<tr class="row-even"><td><p>Trait</p></td>
<td><p><code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/ClassPropertiesIdenticalToTrait.html" title="PHPTailors\PHPUnit\ClassPropertiesIdenticalToTrait"><span class="pre">ClassPropertiesIdenticalToTrait</span></a></code></p></td>
</tr>
</tbody>
</table>
<p>Synopsis:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">classPropertiesIdenticalTo</span><span class="p">(</span><span class="k">array</span> <span class="nv">$expected</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates <code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/Constraint/ClassPropertiesIdenticalTo.html" title="PHPTailors\PHPUnit\Constraint\ClassPropertiesIdenticalTo"><span class="pre">ClassPropertiesIdenticalTo</span></a></code> constraint.</p>
<p>The constraint accepts classes having selected properties identical to
<code class="docutils literal notranslate"><span class="pre">$expected</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="constraints-classpropertiesidenticalto-example">
<div class="code-block-caption"><span class="caption-text">Usage of classPropertiesIdenticalTo()</span><a class="headerlink" href="#constraints-classpropertiesidenticalto-example" title="Permalink to this code">¶</a></div>
<div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">classPropertiesIdenticalToTest</span> <span class="k">extends</span> <span class="nx">\PHPUnit\Framework\TestCase</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">\PHPTailors\PHPUnit\ClassPropertiesIdenticalToTrait</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">static</span> <span class="nv">$attribute</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">getValue</span><span class="p">()</span><span class="o">:</span> <span class="nx">int</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="mi">321</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testSuccess</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// assert that:</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">classPropertiesIdenticalTo</span><span class="p">([</span>
            <span class="s1">&#39;attribute&#39;</span>  <span class="o">=&gt;</span> <span class="mi">123</span><span class="p">,</span>   <span class="c1">// - self::$attribute is 123 (ok)</span>
            <span class="s1">&#39;getValue()&#39;</span> <span class="o">=&gt;</span> <span class="mi">321</span><span class="p">,</span>    <span class="c1">// - self::getValue() is 321 (ok)</span>
        <span class="p">]));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testFailure</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// assert that:</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">classPropertiesIdenticalTo</span><span class="p">([</span>
            <span class="s1">&#39;attribute&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;123&#39;</span><span class="p">,</span>   <span class="c1">// - self::$attribute is 123, not &#39;123&#39; (fail)</span>
            <span class="s1">&#39;getValue()&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>     <span class="c1">// - self::getValue() is 321, not null (fail)</span>
        <span class="p">]));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span>PHPUnit 9.3.11 by Sebastian Bergmann and contributors.

.F                                                                  2 / 2 (100%)

Time: 00:00.006, Memory: 6.00 MB

There was 1 failure:

1) classPropertiesIdenticalToTest::testFailure
Failed asserting that classPropertiesIdenticalToTest is a class with properties identical to specified.
--- Expected
+++ Actual
@@ @@
-Properties &lt;Expect&gt; (
-    &#39;attribute&#39; =&gt; &#39;123&#39;
-    &#39;getValue()&#39; =&gt; null
+Properties &lt;Actual&gt; (
+    &#39;attribute&#39; =&gt; 123
+    &#39;getValue()&#39; =&gt; 321
 )

classPropertiesIdenticalToTest.php:27

FAILURES!
Tests: 2, Assertions: 4, Failures: 1.
</pre></div>
</td></tr></table></div>
<p>The constraint may be used recursively, i.e. it may be used to require given
property to be a class with prescribed properties.</p>
</div>
<div class="section" id="extendsclass">
<span id="constraints-extendsclass"></span><h2>extendsClass<a class="headerlink" href="#extendsclass" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id4" style="width: 100%">
<caption><span class="caption-text">Prerequisites for extendsClass()</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Package</p></td>
<td><p>php-tailors/phpunit-inheritance</p></td>
</tr>
<tr class="row-even"><td><p>Trait</p></td>
<td><p><code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/ExtendsClassTrait.html" title="PHPTailors\PHPUnit\ExtendsClassTrait"><span class="pre">ExtendsClassTrait</span></a></code></p></td>
</tr>
</tbody>
</table>
<p>Synopsis:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">extendsClass</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$parent</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates <code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/Constraint/ExtendsClass.html" title="PHPTailors\PHPUnit\Constraint\ExtendsClass"><span class="pre">ExtendsClass</span></a></code> constraint.</p>
<p>The constraint accepts objects (and classes) that extend <code class="docutils literal notranslate"><span class="pre">$parent</span></code> class. The
examined <code class="docutils literal notranslate"><span class="pre">$subject</span></code> may be an <code class="docutils literal notranslate"><span class="pre">object</span></code> or a class name as <code class="docutils literal notranslate"><span class="pre">string</span></code>:</p>
<ul class="simple">
<li><p>if the <code class="docutils literal notranslate"><span class="pre">$subject</span></code> is an <code class="docutils literal notranslate"><span class="pre">object</span></code>, then this object’s class, as returned
by <code class="docutils literal notranslate"><span class="pre">get_class($subject)</span></code>, is examined against <code class="docutils literal notranslate"><span class="pre">$parent</span></code>, the constraint
returns <code class="docutils literal notranslate"><span class="pre">true</span></code> only if the class extends the <code class="docutils literal notranslate"><span class="pre">$parent</span></code> class,</p></li>
<li><p>otherwise, the necessary conditions for the constraint to be satisfied are
that</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">$subject</span></code> is a string,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">class_exists($subject)</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code>, and</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">$subject</span></code> class extends the <code class="docutils literal notranslate"><span class="pre">$parent</span></code> class.</p></li>
</ul>
</li>
</ul>
<div class="literal-block-wrapper docutils container" id="constraints-extendsclass-example">
<div class="code-block-caption"><span class="caption-text">Usage of extendsClass()</span><a class="headerlink" href="#constraints-extendsclass-example" title="Permalink to this code">¶</a></div>
<div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">extendsClassTest</span> <span class="k">extends</span> <span class="nx">\PHPUnit\Framework\TestCase</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">\PHPTailors\PHPUnit\ExtendsClassTrait</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testExtendsClass</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nx">\RuntimeException</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">extendsClass</span><span class="p">(</span><span class="nx">\Exception</span><span class="o">::</span><span class="na">class</span><span class="p">));</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="k">new</span> <span class="nx">\RuntimeException</span><span class="p">(),</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">extendsClass</span><span class="p">(</span><span class="nx">\Exception</span><span class="o">::</span><span class="na">class</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testExtendsClassFailure</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">extendsClass</span><span class="p">(</span><span class="nx">\Exception</span><span class="o">::</span><span class="na">class</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span>PHPUnit 9.3.11 by Sebastian Bergmann and contributors.

.F                                                                  2 / 2 (100%)

Time: 00:00.005, Memory: 6.00 MB

There was 1 failure:

1) extendsClassTest::testExtendsClassFailure
Failed asserting that extendsClassTest extends class Exception.

extendsClassTest.php:15

FAILURES!
Tests: 2, Assertions: 3, Failures: 1.
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="haspregcaptures">
<span id="constraints-haspregcaptures"></span><h2>hasPregCaptures<a class="headerlink" href="#haspregcaptures" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id5" style="width: 100%">
<caption><span class="caption-text">Prerequisites for hasPregCaptures()</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Package</p></td>
<td><p>php-tailors/phpunit-pcre</p></td>
</tr>
<tr class="row-even"><td><p>Trait</p></td>
<td><p><code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/HasPregCapturesTrait.html" title="PHPTailors\PHPUnit\HasPregCapturesTrait"><span class="pre">HasPregCapturesTrait</span></a></code></p></td>
</tr>
</tbody>
</table>
<p>Synopsis:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">hasPregCaptures</span><span class="p">(</span><span class="k">array</span> <span class="nv">$expected</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates <code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/Constraint/HasPregCaptures.html" title="PHPTailors\PHPUnit\Constraint\HasPregCaptures"><span class="pre">HasPregCaptures</span></a></code> constraint.</p>
<p>The constraint accepts arrays of matches returned from <code class="docutils literal notranslate"><span class="pre">preg_match()</span></code> having
capture groups as specified in <code class="docutils literal notranslate"><span class="pre">$expected</span></code>. Only entries present in
<code class="docutils literal notranslate"><span class="pre">$expected</span></code> are checked, so <code class="docutils literal notranslate"><span class="pre">$expected</span> <span class="pre">=</span> <span class="pre">[]</span></code> accepts any array. Special
values may be used in the expectations:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">['foo'</span> <span class="pre">=&gt;</span> <span class="pre">false]</span></code> asserts that group <code class="docutils literal notranslate"><span class="pre">'foo'</span></code> was not captured,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">['foo'</span> <span class="pre">=&gt;</span> <span class="pre">true]</span></code> asserts that group <code class="docutils literal notranslate"><span class="pre">'foo'</span></code> was captured,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">['foo'</span> <span class="pre">=&gt;</span> <span class="pre">'FOO']</span></code> asserts that group <code class="docutils literal notranslate"><span class="pre">'foo'</span></code> was captured and its value equals <code class="docutils literal notranslate"><span class="pre">'FOO'</span></code>.</p></li>
</ul>
<p>Boolean expectations (<code class="docutils literal notranslate"><span class="pre">['foo'</span> <span class="pre">=&gt;</span> <span class="pre">true]</span></code> or <code class="docutils literal notranslate"><span class="pre">['foo'</span> <span class="pre">=&gt;</span> <span class="pre">false]</span></code> work properly
only with arrays obtained from <code class="docutils literal notranslate"><span class="pre">preg_match()</span></code> invoked with
<code class="docutils literal notranslate"><span class="pre">PREG_UNMATCHED_AS_NULL</span></code> flag.</p>
<div class="literal-block-wrapper docutils container" id="constraints-haspregcaptures-example">
<div class="code-block-caption"><span class="caption-text">Usage of hasPregCaptures()</span><a class="headerlink" href="#constraints-haspregcaptures-example" title="Permalink to this code">¶</a></div>
<div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">hasPregCapturesTest</span> <span class="k">extends</span> <span class="nx">\PHPUnit\Framework\TestCase</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">\PHPTailors\PHPUnit\HasPregCapturesTrait</span><span class="p">;</span>

    <span class="k">private</span> <span class="nv">$regexp</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$subject</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$matches</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">setUp</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">regexp</span>  <span class="o">=</span> <span class="s1">&#39;/(?&lt;name&gt;\w+) (?&lt;surname&gt;\w+)(?:, (?&lt;age&gt;\d+))?(?:, (?&lt;city&gt;\w+))?/&#39;</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">subject</span> <span class="o">=</span> <span class="s1">&#39;John Smith, London&#39;</span><span class="p">;</span>
        <span class="nb">preg_match</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">regexp</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">subject</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">matches</span><span class="p">,</span> <span class="nx">PREG_UNMATCHED_AS_NULL</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testHasPregCaptures</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// assert that:</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">matches</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hasPregCaptures</span><span class="p">([</span>
            <span class="s1">&#39;name&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span>  <span class="c1">// - name is &#39;John&#39; (ok),</span>
            <span class="s1">&#39;surname&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Smith&#39;</span><span class="p">,</span> <span class="c1">// - surname is &#39;Smith&#39; (ok),</span>
            <span class="s1">&#39;age&#39;</span>     <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>  <span class="c1">// - age is absent (ok),</span>
            <span class="s1">&#39;city&#39;</span>    <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>    <span class="c1">// - city is present (ok).</span>
        <span class="p">]));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testHasPregCapturesFailure</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// assert that:</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">matches</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hasPregCaptures</span><span class="p">([</span>
            <span class="s1">&#39;name&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span>  <span class="c1">// - name is &#39;John&#39; (ok),</span>
            <span class="s1">&#39;surname&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Brown&#39;</span><span class="p">,</span> <span class="c1">// - surname is &#39;Brown&#39; (fail),</span>
            <span class="s1">&#39;age&#39;</span>     <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>   <span class="c1">// - age is present (fail),</span>
            <span class="s1">&#39;city&#39;</span>    <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>   <span class="c1">// - city is absent (fail).</span>
        <span class="p">]));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span>PHPUnit 9.3.11 by Sebastian Bergmann and contributors.

.F                                                                  2 / 2 (100%)

Time: 00:00.005, Memory: 6.00 MB

There was 1 failure:

1) hasPregCapturesTest::testHasPregCapturesFailure
Failed asserting that array has expected PCRE capture groups.
--- Expected
+++ Actual
@@ @@
 Array &amp;0 (
     &#39;name&#39; =&gt; &#39;John&#39;
-    &#39;surname&#39; =&gt; &#39;Brown&#39;
-    &#39;age&#39; =&gt; true
-    &#39;city&#39; =&gt; false
+    &#39;surname&#39; =&gt; &#39;Smith&#39;
+    &#39;age&#39; =&gt; null
+    &#39;city&#39; =&gt; &#39;London&#39;
 )

hasPregCapturesTest.php:33

FAILURES!
Tests: 2, Assertions: 2, Failures: 1.
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="implementsinterface">
<span id="constraints-implementsinterface"></span><h2>implementsInterface<a class="headerlink" href="#implementsinterface" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id6" style="width: 100%">
<caption><span class="caption-text">Prerequisites for implementsInterface()</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Package</p></td>
<td><p>php-tailors/phpunit-inheritance</p></td>
</tr>
<tr class="row-even"><td><p>Trait</p></td>
<td><p><code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/ImplementsInterfaceTrait.html" title="PHPTailors\PHPUnit\ImplementsInterfaceTrait"><span class="pre">ImplementsInterfaceTrait</span></a></code></p></td>
</tr>
</tbody>
</table>
<p>Synopsis:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">implementsInterface</span><span class="p">(</span><span class="k">array</span> <span class="nv">$interface</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates <code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/Constraint/ImplementsInterface.html" title="PHPTailors\PHPUnit\Constraint\ImplementsInterface"><span class="pre">ImplementsInterface</span></a></code> constraint.</p>
<p>The constraint accepts objects (and classes/interfaces) that implement given
<code class="docutils literal notranslate"><span class="pre">$interface</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="constraints-implementsinterface-example">
<div class="code-block-caption"><span class="caption-text">Usage of implementsInterface()</span><a class="headerlink" href="#constraints-implementsinterface-example" title="Permalink to this code">¶</a></div>
<div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">implementsInterfaceTest</span> <span class="k">extends</span> <span class="nx">\PHPUnit\Framework\TestCase</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">\PHPTailors\PHPUnit\ImplementsInterfaceTrait</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testImplementsInterface</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nx">\RuntimeException</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">implementsInterface</span><span class="p">(</span><span class="nx">\Throwable</span><span class="o">::</span><span class="na">class</span><span class="p">));</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="k">new</span> <span class="nx">\RuntimeException</span><span class="p">(),</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">implementsInterface</span><span class="p">(</span><span class="nx">\Throwable</span><span class="o">::</span><span class="na">class</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testImplementsInterfaceFailure</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">implementsInterface</span><span class="p">(</span><span class="nx">\Throwable</span><span class="o">::</span><span class="na">class</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span>PHPUnit 9.3.11 by Sebastian Bergmann and contributors.

.F                                                                  2 / 2 (100%)

Time: 00:00.005, Memory: 6.00 MB

There was 1 failure:

1) implementsInterfaceTest::testImplementsInterfaceFailure
Failed asserting that implementsInterfaceTest implements interface Throwable.

implementsInterfaceTest.php:15

FAILURES!
Tests: 2, Assertions: 3, Failures: 1.
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="objectpropertiesequalto">
<span id="constraints-objectpropertiesequalto"></span><h2>objectPropertiesEqualTo<a class="headerlink" href="#objectpropertiesequalto" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id7" style="width: 100%">
<caption><span class="caption-text">Prerequisites for objectPropertiesEqualTo()</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Package</p></td>
<td><p>php-tailors/phpunit-properties</p></td>
</tr>
<tr class="row-even"><td><p>Trait</p></td>
<td><p><code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/ObjectPropertiesEqualToTrait.html" title="PHPTailors\PHPUnit\ObjectPropertiesEqualToTrait"><span class="pre">ObjectPropertiesEqualToTrait</span></a></code></p></td>
</tr>
</tbody>
</table>
<p>Synopsis:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">objectPropertiesEqualTo</span><span class="p">(</span><span class="k">array</span> <span class="nv">$expected</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates <code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/Constraint/ObjectPropertiesEqualTo.html" title="PHPTailors\PHPUnit\Constraint\ObjectPropertiesEqualTo"><span class="pre">ObjectPropertiesEqualTo</span></a></code> constraint.</p>
<p>The constraint accepts objects having selected properties equal to
<code class="docutils literal notranslate"><span class="pre">$expected</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="constraints-objectpropertiesequalto-example">
<div class="code-block-caption"><span class="caption-text">Usage of objectPropertiesEqualTo()</span><a class="headerlink" href="#constraints-objectpropertiesequalto-example" title="Permalink to this code">¶</a></div>
<div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">objectPropertiesEqualToTest</span> <span class="k">extends</span> <span class="nx">\PHPUnit\Framework\TestCase</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">\PHPTailors\PHPUnit\ObjectPropertiesEqualToTrait</span><span class="p">;</span>

    <span class="k">public</span> <span class="nv">$attribute</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getValue</span><span class="p">()</span><span class="o">:</span> <span class="nx">int</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="mi">321</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testSuccess</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// assert that:</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">objectPropertiesEqualTo</span><span class="p">([</span>
            <span class="s1">&#39;attribute&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="c1">// - $this-&gt;attribute is 123, equals &#39;123&#39; (ok)</span>
            <span class="s1">&#39;getValue()&#39;</span> <span class="o">=&gt;</span> <span class="mi">321</span><span class="p">,</span>    <span class="c1">// - $this-&gt;getValue() is 321 (ok)</span>
        <span class="p">]));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testFailure</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// assert that:</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">objectPropertiesEqualTo</span><span class="p">([</span>
            <span class="s1">&#39;attribute&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;123&#39;</span><span class="p">,</span>   <span class="c1">// - $this-&gt;attribute is 123, equals &#39;123&#39; (ok)</span>
            <span class="s1">&#39;getValue()&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>     <span class="c1">// - $this-&gt;getValue() is 321, not equals null (fail)</span>
        <span class="p">]));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span>PHPUnit 9.3.11 by Sebastian Bergmann and contributors.

.F                                                                  2 / 2 (100%)

Time: 00:00.008, Memory: 6.00 MB

There was 1 failure:

1) objectPropertiesEqualToTest::testFailure
Failed asserting that object objectPropertiesEqualToTest is an object with properties equal to specified.
--- Expected
+++ Actual
@@ @@
-Properties &lt;Expect&gt; (
-    &#39;attribute&#39; =&gt; &#39;123&#39;
-    &#39;getValue()&#39; =&gt; null
+Properties &lt;Actual&gt; (
+    &#39;attribute&#39; =&gt; 123
+    &#39;getValue()&#39; =&gt; 321
 )

objectPropertiesEqualToTest.php:27

FAILURES!
Tests: 2, Assertions: 4, Failures: 1.
</pre></div>
</td></tr></table></div>
<p>The constraint may be used recursively, i.e. it may be used to require given
property to be an object with prescribed properties.</p>
</div>
<div class="section" id="objectpropertiesidenticalto">
<span id="constraints-objectpropertiesidenticalto"></span><h2>objectPropertiesIdenticalTo<a class="headerlink" href="#objectpropertiesidenticalto" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id8" style="width: 100%">
<caption><span class="caption-text">Prerequisites for objectPropertiesIdenticalTo()</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Package</p></td>
<td><p>php-tailors/phpunit-properties</p></td>
</tr>
<tr class="row-even"><td><p>Trait</p></td>
<td><p><code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/ObjectPropertiesIdenticalToTrait.html" title="PHPTailors\PHPUnit\ObjectPropertiesIdenticalToTrait"><span class="pre">ObjectPropertiesIdenticalToTrait</span></a></code></p></td>
</tr>
</tbody>
</table>
<p>Synopsis:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">objectPropertiesIdenticalTo</span><span class="p">(</span><span class="k">array</span> <span class="nv">$expected</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates <code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/Constraint/ObjectPropertiesIdenticalTo.html" title="PHPTailors\PHPUnit\Constraint\ObjectPropertiesIdenticalTo"><span class="pre">ObjectPropertiesIdenticalTo</span></a></code> constraint.</p>
<p>The constraint accepts objects having selected properties identical to
<code class="docutils literal notranslate"><span class="pre">$expected</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="constraints-objectpropertiesidenticalto-example">
<div class="code-block-caption"><span class="caption-text">Usage of objectPropertiesIdenticalTo()</span><a class="headerlink" href="#constraints-objectpropertiesidenticalto-example" title="Permalink to this code">¶</a></div>
<div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">objectPropertiesIdenticalToTest</span> <span class="k">extends</span> <span class="nx">\PHPUnit\Framework\TestCase</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">\PHPTailors\PHPUnit\ObjectPropertiesIdenticalToTrait</span><span class="p">;</span>

    <span class="k">public</span> <span class="nv">$attribute</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getValue</span><span class="p">()</span><span class="o">:</span> <span class="nx">int</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="mi">321</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testSuccess</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// assert that:</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">objectPropertiesIdenticalTo</span><span class="p">([</span>
            <span class="s1">&#39;attribute&#39;</span>  <span class="o">=&gt;</span> <span class="mi">123</span><span class="p">,</span>   <span class="c1">// - $this-&gt;attribute is 123 (ok)</span>
            <span class="s1">&#39;getValue()&#39;</span> <span class="o">=&gt;</span> <span class="mi">321</span><span class="p">,</span>    <span class="c1">// - $this-&gt;getValue() is 321 (ok)</span>
        <span class="p">]));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testFailure</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// assert that:</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">objectPropertiesIdenticalTo</span><span class="p">([</span>
            <span class="s1">&#39;attribute&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;123&#39;</span><span class="p">,</span>   <span class="c1">// - $this-&gt;attribute is 123, not &#39;123&#39; (fail)</span>
            <span class="s1">&#39;getValue()&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>     <span class="c1">// - $this-&gt;getValue() is 321, not null (fail)</span>
        <span class="p">]));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span>PHPUnit 9.3.11 by Sebastian Bergmann and contributors.

.F                                                                  2 / 2 (100%)

Time: 00:00.008, Memory: 6.00 MB

There was 1 failure:

1) objectPropertiesIdenticalToTest::testFailure
Failed asserting that object objectPropertiesIdenticalToTest is an object with properties identical to specified.
--- Expected
+++ Actual
@@ @@
-Properties &lt;Expect&gt; (
-    &#39;attribute&#39; =&gt; &#39;123&#39;
-    &#39;getValue()&#39; =&gt; null
+Properties &lt;Actual&gt; (
+    &#39;attribute&#39; =&gt; 123
+    &#39;getValue()&#39; =&gt; 321
 )

objectPropertiesIdenticalToTest.php:27

FAILURES!
Tests: 2, Assertions: 4, Failures: 1.
</pre></div>
</td></tr></table></div>
<p>The constraint may be used recursively, i.e. it may be used to require given
property to be an object with prescribed properties.</p>
</div>
<div class="section" id="usestrait">
<span id="constraints-usestrait"></span><h2>usesTrait<a class="headerlink" href="#usestrait" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id9" style="width: 100%">
<caption><span class="caption-text">Prerequisites for usesTrait()</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Package</p></td>
<td><p>php-tailors/phpunit-inheritance</p></td>
</tr>
<tr class="row-even"><td><p>Trait</p></td>
<td><p><code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/UsesTraitTrait.html" title="PHPTailors\PHPUnit\UsesTraitTrait"><span class="pre">UsesTraitTrait</span></a></code></p></td>
</tr>
</tbody>
</table>
<p>Synopsis:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nf">usesTrait</span><span class="p">(</span><span class="k">array</span> <span class="nv">$trait</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates <code class="docutils literal notranslate"><a class="reference external" href="/api/PHPTailors/PHPUnit/Constraint/UsesTrait.html" title="PHPTailors\PHPUnit\Constraint\UsesTrait"><span class="pre">UsesTrait</span></a></code> constraint.</p>
<p>The constraint accepts objects (and classes) that use given <code class="docutils literal notranslate"><span class="pre">$trait</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="constraints-usestrait-example">
<div class="code-block-caption"><span class="caption-text">Usage of usesTrait()</span><a class="headerlink" href="#constraints-usestrait-example" title="Permalink to this code">¶</a></div>
<div class="highlight-php notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">trait</span> <span class="nx">ExampleTraitForUsesTraitTest</span>
<span class="p">{</span>
<span class="p">}</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">UsesTraitTest</span> <span class="k">extends</span> <span class="nx">\PHPUnit\Framework\TestCase</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">\PHPTailors\PHPUnit\UsesTraitTrait</span><span class="p">;</span>
    <span class="k">use</span> <span class="nx">ExampleTraitForUsesTraitTest</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testUsesTrait</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">usesTrait</span><span class="p">(</span><span class="nx">ExampleTraitForUsesTraitTest</span><span class="o">::</span><span class="na">class</span><span class="p">));</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">usesTrait</span><span class="p">(</span><span class="nx">ExampleTraitForUsesTraitTest</span><span class="o">::</span><span class="na">class</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testUsesTraitFailure</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertThat</span><span class="p">(</span><span class="nx">\RuntimeException</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">usesTrait</span><span class="p">(</span><span class="nx">ExampleTraitForUsesTraitTest</span><span class="o">::</span><span class="na">class</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span>PHPUnit 9.3.11 by Sebastian Bergmann and contributors.

.F                                                                  2 / 2 (100%)

Time: 00:00.006, Memory: 6.00 MB

There was 1 failure:

1) UsesTraitTest::testUsesTraitFailure
Failed asserting that RuntimeException uses trait ExampleTraitForUsesTraitTest.

usesTraitTest.php:20

FAILURES!
Tests: 2, Assertions: 3, Failures: 1.
</pre></div>
</td></tr></table></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="devel_guide/index.html" class="btn btn-neutral float-right" title="3. Developer Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="assertions.html" class="btn btn-neutral float-left" title="1. Assertions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Paweł Tomulik

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>